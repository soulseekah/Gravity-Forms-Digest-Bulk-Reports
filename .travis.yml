language: php

dist: precise

php:
    - 5.3
    - 5.4
    - 5.6
    - 7.1
    - 7.2
env:
    - WP_VERSION=latest GFVERSION=2.2
    - WP_VERSION=latest GFVERSION=2.3

before_script:
    - wget https://raw.github.com/wp-cli/sample-plugin/master/bin/install-wp-tests.sh
    - export WP_TESTS_DIR=wordpress
    - bash install-wp-tests.sh wordpress root '' localhost $WP_VERSION
    - wget "https://codeseekah.com/etc/gravityforms_$GFVERSION.zip" -O /tmp/gravityforms.zip
    - cd /tmp/wordpress/wp-content/plugins && unzip /tmp/gravityforms.zip
    - cd -

script:
    - phpunit --no-coverage
